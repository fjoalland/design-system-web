{% include form/_variables.html %}

{% if include.required == 'true' %}
    {% capture dayLabel %}aria-label="{{ label }} : Jour - obligatoire"{% endcapture %}
    {% capture monthLabel %}aria-label="{{ label }} : Mois - obligatoire"{% endcapture %}
    {% capture yearLabel %}aria-label="{{ label }} : Année - obligatoire"{% endcapture %}
{% else %}
    {% capture dayLabel %}aria-label="{{ label }} : Jour"{% endcapture %}
    {% capture monthLabel %}aria-label="{{ label }} : Mois"{% endcapture %}
    {% capture yearLabel %}aria-label="{{ label }} : Année"{% endcapture %}
{% endif %}

{% assign labelClass = labelClass | append: ' ds44-datepicker' %}

{% capture mainContent %}
<div id="{{ id }}" class="ds44-datepicker__shape {{ mainClass }}" {{ containerAttributes }}>{{ explanation }}<input type="text" inputmode="numeric" pattern="[0-9]*" maxlength="2" {{ dayLabel }} data-is-date="true" {{ attributes }} {{ inputAttributes }}><span>/</span><input type="text" inputmode="numeric" pattern="[0-9]*" maxlength="2" {{ monthLabel }} data-is-date="true" {{ attributes }} {{ inputAttributes }}><span>/</span><input type="text" inputmode="numeric" pattern="[0-9]*" maxlength="4" {{ yearLabel }} data-is-date="true" {{ attributes }} {{ inputAttributes }}></div>{% include form/field/partial/reset.html %}<button class="ds44-calendar" type="button" aria-expanded="false" data-a11y-exclude="true" tabindex="-1" aria-hidden="true"><i class="icon icon-date icon--large" aria-hidden="true"></i><span class="visually-hidden">Afficher le calendrier pour le champ : {{ label }}</span></button>
<div class="vanilla-calendar hidden"></div>

{% endcapture %}

{% capture labelContent %}
{% include form/field/partial/label.html content=mainContent disabled=include.disabled %}
{% endcapture %}

{% include form/field/partial/container.html content=labelContent %}
